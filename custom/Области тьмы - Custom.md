# Области тьмы - Custom.md

На собеседованиях часто спрашивают вопросы, касающиеся таких вещей как: замыкание, область видимости, всплытие переменных, "this", контекст выполнения, стек вызовов. Тема мне показалась достаточно обширной и интересной, если начать копать дальше, чем примеры с console.log, поэтому я решил собрать общие знания по теме в этом конспекте. 

И так, сегодня мы узнаем:
- Что такое контекст выполнения и стек вызовов
- Как создаётся стек выполнения и из чего состоит
- Как реализовано всплатие (Hoisting)
- Что такое this
- Что такое [[Scope]] и ScopeChain
- Как работает замыкание

и закрепим всё на примерах.

## Главай 1 - Погружение в контекст.

Контекст выполнения (execution context) в JavaScript используется для того, чтобы отслеживать ход выполнения кода. Именно с его помощью определяется доступное окружение на текущем этапе выполнения программы. А также контекст выполнения содержит в себе дополнительные параметры, которые формируются самостоятельно JavaScript-движком при обработке кода.

Контекст выполнения тоже является абстрактным механизмом спецификации, как и лексическое окружение, к которому невозможно напрямую обратиться или изменить из программы. По сути он представляет собой некую обертку для выполняемого кода, содержащую определенные вспомогательные компоненты для отслеживания состояния программы, к некоторым из которых, мы можем обратиться из нашего кода.

В JavaScript существует три типа контекстов выполнения:
- Глобальный контекст выполнения (Global Execution Context). Это базовый, используемый по умолчанию контекст выполнения. Если некий код находится не внутри какой-нибудь функции, значит этот код принадлежит глобальному контексту. Глобальный контекст характеризуется наличием глобального объекта, которым, в случае с браузером, является объект window, и тем, что ключевое слово this указывает на этот глобальный объект. В программе может быть лишь один глобальный контекст.
- Контекст выполнения функции. Каждый раз, когда вызывается функция, для неё создаётся новый контекст. Каждая функция имеет собственный контекст выполнения. В программе может одновременно присутствовать множество контекстов выполнения функций. При создании нового контекста выполнения функции он проходит через определённую последовательность шагов, о которой мы поговорим ниже.
- Контекст выполнения функции eval


************************************************************************************************************************************************************************
Источники:
[Контекст выполнения и стек вызовов в JavaScript](https://habr.com/ru/companies/ruvds/articles/422089/)
[Лексическое окружение (LexicalEnvironment) и Замыкание (Closures) в EcmaScript](https://habr.com/ru/articles/474852/)
[this и ScopeChain в EcmaScript](https://habr.com/ru/articles/468943/)
[Понимаем замыкания в JavaScript. Раз и навсегда](https://medium.com/@stasonmars/понимаем-замыкания-в-javascript-раз-и-навсегда-c211805b6898)
